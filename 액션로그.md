Run npm run build:cf

> build:cf
> npx @opennextjs/cloudflare build --openNextConfigPath ./open-next.config.js


┌─────────────────────────────┐
│ OpenNext — Cloudflare build │
└─────────────────────────────┘

App directory: /home/runner/work/pbr/pbr
Next.js version : 14.2.35
@opennextjs/cloudflare version: 1.14.7
@opennextjs/aws version: 3.9.7

┌─────────────────────────────────┐
│ OpenNext — Building Next.js app │
└─────────────────────────────────┘


> build
> next build

⚠ No build cache found. Please configure build caching for faster rebuilds. Read more: https://nextjs.org/docs/messages/no-cache
Attention: Next.js now collects completely anonymous telemetry regarding usage.
This information is used to shape Next.js' roadmap and prioritize features.
You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
https://nextjs.org/telemetry

  ▲ Next.js 14.2.35

   Creating an optimized production build ...
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (128kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
 ⚠ Compiled with warnings

./src/middleware.ts
Attempted import error: 'getTenantByHostnameEdge' is not exported from './lib/d1' (imported as 'getTenantByHostnameEdge').

 ✓ Compiled successfully
   Skipping validation of types
   Skipping linting

   We detected TypeScript in your project and reconfigured your tsconfig.json file for you. Strict-mode is set to false by default.
   The following mandatory changes were made to your tsconfig.json:

   	- jsx was set to preserve (next.js implements its own optimized jsx transform)

   Collecting page data ...
Error: D1 binding (process.env.DB) is not available.
    at u (/home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:4839)
    at 36356 (/home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:1877)
    at t (/home/runner/work/pbr/pbr/.next/server/webpack-runtime.js:1:128)
    at 78842 (/home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:1122)
    at t (/home/runner/work/pbr/pbr/.next/server/webpack-runtime.js:1:128)
    at n (/home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:8487)
    at /home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:8517
    at t.X (/home/runner/work/pbr/pbr/.next/server/webpack-runtime.js:1:1206)
    at /home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:8500
    at Object.<anonymous> (/home/runner/work/pbr/pbr/.next/server/app/api/auth/[...nextauth]/route.js:1:8545)

> Build error occurred
Error: Failed to collect page data for /api/auth/[...nextauth]
    at /home/runner/work/pbr/pbr/node_modules/next/dist/build/utils.js:1269:15
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  type: 'Error'
}
opennextjs-cloudflare build

Build an OpenNext Cloudflare worker

Options:
      --help                        Show help                          [boolean]
      --version                     Show version number                [boolean]
  -c, --config                      Path to Wrangler configuration file [string]
      --configPath                  Path to Wrangler configuration file
                                                           [deprecated] [string]
  -e, --env                         Wrangler environment to use for operations
                                                                        [string]
  -s, --skipNextBuild, --skipBuild  Skip building the Next.js app
                                                      [boolean] [default: false]
      --noMinify                    Disable worker minification
                                                      [boolean] [default: false]
      --skipWranglerConfigCheck     Skip checking for a Wrangler config
                                                      [boolean] [default: false]
      --openNextConfigPath          Path to the OpenNext configuration file
                                                                        [string]

Error: Command failed: npm run build
    at genericNodeError (node:internal/errors:984:15)
    at wrappedFn (node:internal/errors:538:14)
    at checkExecSyncError (node:child_process:891:11)
    at Object.execSync (node:child_process:963:15)
    at buildNextjsApp (file:///home/runner/work/pbr/pbr/node_modules/@opennextjs/aws/dist/build/buildNextApp.js:15:8)
    at build (file:///home/runner/work/pbr/pbr/node_modules/@opennextjs/cloudflare/dist/cli/build/build.js:47:9)
    at buildCommand (file:///home/runner/work/pbr/pbr/node_modules/@opennextjs/cloudflare/dist/cli/commands/build.js:21:11) {
  status: 1,
  signal: null,
  output: [ null, null, null ],
  pid: 2269,
  stdout: null,
  stderr: null
}